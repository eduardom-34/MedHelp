<h2>Do you want to schedule an <strong>appointment?</strong></h2>
<mat-divider></mat-divider>

<form [formGroup]="appointmentForm" class="flex align-items-center flex-column">
  <mat-tab-group dynamicHeight>

    <!-- Specialty Seccion -->
    <mat-tab mat-elevation-z4 mat-stretch-tabs="true" disablePagination="true" label="Select the specialty">
      <!-- Here the autocomplete -->
      <autocomplete-specialty placeholder="Search the specialty" [myControl]="specialtyControl">
      </autocomplete-specialty>


      <div class="grid mt-2 tab-box">
        <!-- <div *ngFor="let specialty of specialties" class="col-12 sm:col-4 md:col-3 xl:col-3 ">
          <specialty-card [specialty]="specialty"></specialty-card>
        </div> -->
        <div class="container">
          <mat-accordion *ngFor="let category of categories">
            <mat-expansion-panel hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  {{ category.name }}
                </mat-panel-title>
              </mat-expansion-panel-header>

              <div *ngFor="let specialty of specialties">
                <mat-checkbox
                [checked]="isSelected(specialty)"
                (change)="onCheckboxChange(specialty)"
                *ngIf="specialty.categoryID === category.id"
                >
                {{ specialty.name }}
                </mat-checkbox>
              </div>

            </mat-expansion-panel>
          </mat-accordion>
        </div>
      </div>


    </mat-tab>

    <!-- Doctor Section -->
    <mat-tab mat-stretch-tabs="true" label="Choose a doctor">

      <div class="grid mt-2 tab-box">
        <div *ngFor="let doctor of doctors" class="col-12 sm:col-4 md:col-3 xl:col-4">
          <doctor-card [doctor]="doctor">
            
          </doctor-card>
        </div>
      </div>
      <!-- <doctor-card class="tab-box"></doctor-card> -->

    </mat-tab>

    <mat-tab mat-stretch-tabs="true" label="Choose the date">


      <!-- Select the date //Comment -->
      <div class="flex align-items-center flex-column p-3 tab-box">
        <mat-label class="mb-2">Choose a date</mat-label>
        <mat-card class="screen-size">
          <mat-calendar [(selected)]="selected" (selectedChange)="onDateSelected($event)"
            class="calendar border-round-lg"></mat-calendar>
        </mat-card>
      </div>

    </mat-tab>
  </mat-tab-group>

</form>

<!-- view form status -->
<code>
  {{ appointmentForm.value | json }}
</code>
<hr>
<p>
  is form valid: {{ appointmentForm.valid }}
</p>
